<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navbar Test - Responsive Fixes</title>
    <link rel="stylesheet" href="draft/src/css/tailwind.css">
    <link rel="stylesheet" href="draft/src/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Test styles */
        body {
            margin: 0;
            padding-top: 100px;
        }
        .test-section {
            height: 100vh;
            padding: 2rem;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .test-content {
            max-width: 800px;
            text-align: center;
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .test-instructions {
            background: #e8f4fd;
            border: 1px solid #b6d7ff;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            text-align: left;
        }
        .test-instructions h3 {
            color: #0066cc;
            margin-top: 0;
        }
        .test-instructions ul {
            margin: 0.5rem 0;
        }
    </style>
</head>
<body>
    <!-- Fixed Header -->
    <div class="header-wrapper">
        <div class="header-layout">
            <!-- Logo on the left -->
            <div class="logo-left">
                <img src="draft/src/assets/images/Timeline Related Photos/samaj logo.png" alt="Logo" class="logo">
            </div>
            
            <!-- Navigation container -->
            <div class="nav-container">
                <!-- Mobile logo -->
                <div class="mobile-menu-logo">
                    <img src="draft/src/assets/images/Timeline Related Photos/samaj logo.png" alt="Samaj Logo" class="logo">
                    <h3 class="mobile-title">Shree Cutchi Leva Patel Samaj</h3>
                </div>
                
                <nav id="main-nav">
                    <ul class="nav-menu">
                        <li><a href="#" class="nav-link">Home</a></li>
                        <li class="has-dropdown">
                            <p class="nav-link">Our Samaj</p>
                            <ul class="dropdown-menu">
                                <li><a href="#" class="nav-link">Journey of Development</a></li>
                                <li><a href="#" class="nav-link">History in Pictures</a></li>
                                <li><a href="#" class="nav-link">Board and Management</a></li>
                            </ul>
                        </li>
                        <li class="has-dropdown">
                            <p class="nav-link">Charitable Trust</p>
                            <ul class="dropdown-menu">
                                <li><a href="#" class="nav-link">SCLP Samaj School</a></li>
                                <li><a href="#" class="nav-link">SCLP Samaj Charitable Trust</a></li>
                            </ul>
                        </li>
                        <li class="has-dropdown">
                            <p class="nav-link">Committees</p>
                            <ul class="dropdown-menu">
                                <li><a href="#" class="nav-link">Building & Flat Liasing</a></li>
                                <li><a href="#" class="nav-link">Cutchi Economic Council</a></li>
                                <li><a href="#" class="nav-link">Higher Education Loans</a></li>
                                <li><a href="#" class="nav-link">Karibu Rapid Response</a></li>
                                <li><a href="#" class="nav-link">Mahila Mandal</a></li>
                                <li><a href="#" class="nav-link">Medical Relief Scheme</a></li>
                                <li><a href="#" class="nav-link">Youth League</a></li>
                            </ul>
                        </li>
                        <li class="has-dropdown">
                            <p class="nav-link">Events</p>
                            <ul class="dropdown-menu">
                                <li><a href="#" class="nav-link">Upcoming Events</a></li>
                                <li><a href="#" class="nav-link">Past Events</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
                
                <!-- Social icons for desktop -->
                <div class="header-right">
                    <a href="javascript:void(0);" class="search-icon desktop-search" aria-label="Search">
                        <i class="fas fa-search"></i>
                    </a>
                    <div class="social-icons">
                        <a href="#" class="social-icon facebook-icon" aria-label="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-icon instagram-icon" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-icon youtube-icon" aria-label="Youtube">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Mobile actions -->
            <div class="header-actions">
                <a href="javascript:void(0);" class="search-icon mobile-search" aria-label="Search">
                    <i class="fas fa-search"></i>
                </a>
                <button type="button" class="mobile-nav-toggle" aria-label="Toggle navigation">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Test Content -->
    <div class="test-section">
        <div class="test-content">
            <h1>ðŸŽ¯ Responsive Navbar Test</h1>
            <p>This page tests the fixed responsive navigation behavior.</p>
            
            <div class="test-instructions">
                <h3>âœ… Issues Fixed:</h3>
                <ul>
                    <li><strong>Mobile Menu Dropdowns:</strong> All submenu items now display consistently regardless of scroll position</li>
                    <li><strong>Hamburger Icon:</strong> Only shows on mobile/tablet screens (â‰¤768px), hidden on desktop</li>
                    <li><strong>Dropdown State:</strong> Mobile dropdowns maintain proper state after scrolling</li>
                    <li><strong>Responsive Design:</strong> Proper behavior across all screen sizes</li>
                </ul>
            </div>

            <div class="test-instructions">
                <h3>ðŸ§ª How to Test:</h3>
                <ul>
                    <li><strong>Desktop (>768px):</strong> Hamburger icon should be hidden, dropdowns work on hover</li>
                    <li><strong>Mobile (â‰¤768px):</strong> Hamburger icon visible, tap to open menu</li>
                    <li><strong>Mobile Dropdowns:</strong> Tap "Our Samaj", "Committees", etc. to see all submenu items</li>
                    <li><strong>Scroll Test:</strong> Scroll down, open mobile menu - all dropdowns should still work</li>
                    <li><strong>Resize Test:</strong> Resize browser window to test responsive breakpoints</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- More test content to enable scrolling -->
    <div class="test-section" style="background: linear-gradient(45deg, #e8f4fd, #d0e8ff);">
        <div class="test-content">
            <h2>ðŸ“± Mobile Menu Features</h2>
            <p>Scroll back to top and test the mobile menu at different scroll positions.</p>
            <ul style="text-align: left; max-width: 500px;">
                <li>âœ… Mobile logo appears in menu</li>
                <li>âœ… All dropdown items accessible</li>
                <li>âœ… Proper touch targets (44px minimum)</li>
                <li>âœ… Smooth animations and transitions</li>
                <li>âœ… Overlay prevents body scroll</li>
                <li>âœ… Dropdowns close properly when menu closes</li>
            </ul>
        </div>
    </div>

    <script src="draft/src/js/main.js"></script>
    <script>
        // Initialize navigation when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initMobileNav();
            initHeaderScrollBehavior();
            initDropdownMenus();
            
            console.log('âœ… Responsive navbar test initialized');
            console.log('ðŸŽ¯ Test the mobile menu by resizing your browser or using device tools');
        });

        // Mobile Navigation Functions (simplified for testing)
        function initMobileNav() {
            const mobileToggle = document.querySelector('.mobile-nav-toggle');
            const navContainer = document.querySelector('.nav-container');

            if (mobileToggle && navContainer) {
                mobileToggle.addEventListener('click', function() {
                    if (navContainer.classList.contains('mobile-active')) {
                        closeMenu(navContainer, mobileToggle);
                    } else {
                        openMenu(navContainer, mobileToggle);
                    }
                });

                // Dropdown handling for mobile
                const dropdownItems = document.querySelectorAll('.nav-menu li.has-dropdown');
                dropdownItems.forEach(item => {
                    const link = item.querySelector('p, a');
                    if (link) {
                        link.addEventListener('click', function(e) {
                            if (window.innerWidth <= 768 && navContainer.classList.contains('mobile-active')) {
                                const dropdownMenu = item.querySelector('.dropdown-menu');
                                if (dropdownMenu) {
                                    e.preventDefault();
                                    e.stopPropagation();
                                    item.classList.toggle('show-dropdown');
                                }
                            }
                        });
                    }
                });

                // Close menu when clicking outside
                document.addEventListener('click', function(e) {
                    if (navContainer.classList.contains('mobile-active') && 
                        !e.target.closest('.nav-container') && 
                        !e.target.closest('.mobile-nav-toggle')) {
                        closeMenu(navContainer, mobileToggle);
                    }
                });
            }
        }

        function openMenu(navContainer, toggleButton) {
            // Create overlay
            let overlay = document.querySelector('.nav-overlay');
            if (!overlay) {
                overlay = document.createElement('div');
                overlay.className = 'nav-overlay';
                document.body.appendChild(overlay);
                overlay.addEventListener('click', function() {
                    closeMenu(navContainer, toggleButton);
                });
            }
            overlay.classList.add('active');

            // Update toggle icon
            const icon = toggleButton.querySelector('i');
            if (icon) {
                icon.className = 'fas fa-times';
            }

            navContainer.classList.add('mobile-active');
            document.body.classList.add('menu-open');
        }

        function closeMenu(navContainer, toggleButton) {
            // Hide overlay
            const overlay = document.querySelector('.nav-overlay');
            if (overlay) {
                overlay.classList.remove('active');
            }

            navContainer.classList.remove('mobile-active');
            document.body.classList.remove('menu-open');

            // Close dropdowns
            const openDropdowns = navContainer.querySelectorAll('.has-dropdown.show-dropdown');
            openDropdowns.forEach(dropdown => {
                dropdown.classList.remove('show-dropdown');
            });

            // Reset icon
            const icon = toggleButton.querySelector('i');
            if (icon) {
                icon.className = 'fas fa-bars';
            }
        }

        function initHeaderScrollBehavior() {
            window.addEventListener('scroll', function() {
                const header = document.querySelector('.header-wrapper');
                if (header) {
                    if (window.scrollY > 50) {
                        header.classList.add('scrolled');
                    } else {
                        header.classList.remove('scrolled');
                    }
                }
            });
        }

        function initDropdownMenus() {
            const dropdownItems = document.querySelectorAll('.nav-menu li.has-dropdown');
            
            dropdownItems.forEach(item => {
                const link = item.querySelector('p, a');
                const dropdownMenu = item.querySelector('.dropdown-menu');
                
                if (link && dropdownMenu && window.innerWidth > 768) {
                    item.addEventListener('mouseenter', function() {
                        dropdownMenu.style.display = 'block';
                        dropdownMenu.style.opacity = '1';
                        dropdownMenu.style.visibility = 'visible';
                    });
                    
                    item.addEventListener('mouseleave', function() {
                        dropdownMenu.style.display = '';
                        dropdownMenu.style.opacity = '';
                        dropdownMenu.style.visibility = '';
                    });
                }
            });
        }

        // Window resize handling
        window.addEventListener('resize', function() {
            const navContainer = document.querySelector('.nav-container');
            const mobileToggle = document.querySelector('.mobile-nav-toggle');
            
            if (window.innerWidth > 768) {
                if (navContainer && navContainer.classList.contains('mobile-active')) {
                    closeMenu(navContainer, mobileToggle);
                }
            }
        });
    </script>
</body>
</html>